# UC-RR1 — Оставить отзыв и оценку товара

**Actor:** Покупатель (авторизованный)  
**Goal:** Оставить отзыв о товаре, включая текст и/или числовую оценку  
**Primary System:** Review & Rating Service  
**Related Diagram:** ../diagrams/use-cases.drawio

---

## Preconditions
- Пользователь авторизован
- Товар существует в системе

---

## Main Flow
1. Пользователь открывает карточку товара
2. Нажимает «Оставить отзыв / оценку»
3. Вводит текст отзыва (необязательно)
4. Выбирает оценку по шкале 1–5 (обязательно)
5. Подтверждает отправку
6. Система валидирует данные
7. Система сохраняет отзыв и оценку
8. Система обновляет средний рейтинг товара
9. Показывает подтверждение

---

## Alternative Flows
**3A.** Текст пустой → допустимо, продолжаем  
**4A.** Оценка не выбрана → ошибка “Оценка обязательна”  
**7A.** Ошибка сохранения → сообщение “Не удалось сохранить отзыв”  

---

## Postconditions
- Отзыв и оценка доступны для просмотра
- Средний рейтинг обновлён

---

## Notes
- Один пользователь может оставить только одну оценку на товар  
  (редактирование и обновление — в будущем отдельный UC)  
- Тональность текста может проверяться через сервис модерации позже

